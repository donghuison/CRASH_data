# CRASH Opacity Tables vs Solar Atmosphere Analysis

## CRASH 테이블 범위 (현재 데이터 기준)

### 사용 가능한 재료별 범위
| Material | Density Range [g/cm³] | Temperature Range [eV] | 
|----------|----------------------|------------------------|
| **Au (Gold)** | 10^-3.5 to 10^1.6 | 0.2 to 100 |
| **Xe (Xenon)** | 10^-3.7 to 10^1.3 | 0.03 to 1000 |
| **Be (Beryllium)** | 10^-3.7 to 10^1.3 | 0.2 to 100 |
| **Pl (Plastic)** | 10^-3 to 10^1 | ~0.1 to 100 |
| **Ay (Aerogel)** | 10^-4 to 10^0 | ~0.1 to 100 |

## 태양 대기 조건

### 각 층별 특성
| Region | Temperature [eV] | Density [g/cm³] | Height [km] |
|--------|-----------------|-----------------|-------------|
| **광구 (Photosphere)** | 0.4-0.5 | 10^-7 to 10^-6 | 0-500 |
| **채층 (Chromosphere)** | 0.3-1.7 | 10^-11 to 10^-8 | 500-2,500 |
| **전이층 (Transition Region)** | 1.7-86 | 10^-13 to 10^-11 | 2,500-3,000 |
| **코로나 (Corona)** | 86-860 | 10^-15 to 10^-13 | >3,000 |

## 커버리지 분석

### ❌ 밀도 범위 문제
- **CRASH 최소 밀도**: ~10^-4 g/cm³ (Ay)
- **태양 대기 밀도**: 10^-15 to 10^-6 g/cm³
- **결론**: CRASH 테이블은 태양 대기의 낮은 밀도 영역을 커버하지 못함
  - 광구 하부만 부분적으로 커버 가능
  - 채층, 전이층, 코로나의 밀도는 테이블 범위 밖

### ⚠️ 온도 범위 분석
- **CRASH 온도 범위**: 0.03-1000 eV (Xe가 가장 넓음)
- **태양 대기 온도**: 0.3-860 eV
- **결론**: 온도 범위는 대부분 커버 가능
  - Xe: 전체 태양 대기 온도 커버 가능
  - Au, Be: 광구와 채층만 커버 가능
  - 고온 코로나(>100 eV)는 Xe만 커버 가능

## 최종 결론

**CRASH opacity 테이블은 태양 대기 조성에 대해 제한적 적용만 가능합니다:**

### 적용 가능한 경우:
1. **광구 하부**: 밀도가 충분히 높은 영역 (ρ > 10^-4 g/cm³)
2. **실험실 플라즈마**: 고밀도 레이저 생성 플라즈마
3. **항성 내부**: 더 높은 밀도 영역

### 적용 불가능한 경우:
1. **태양 코로나**: 밀도가 너무 낮음 (10^-15 g/cm³)
2. **채층 상부**: 밀도가 테이블 범위 밖
3. **태양풍**: 극도로 낮은 밀도

## 대안 제안

태양 대기 모델링을 위해서는:
1. **CHIANTI 데이터베이스**: 태양 대기용 원자 데이터
2. **OPAL 확장**: 저밀도 영역 확장
3. **Custom opacity tables**: 태양 대기 조건에 맞춘 테이블 생성
4. **Extrapolation**: CRASH 데이터를 저밀도로 외삽 (정확도 제한)

## BATSRUS에서의 해결 방법

BATSRUS CORONA 모듈은 이 문제를 다음과 같이 해결합니다:
- 채층 경계 조건 설정 (Nchromophere ~ 2e17 /cm³ ≈ 3e-7 g/cm³)
- 전이층 확장 기법 사용
- 복사 냉각 테이블 사용 (RadCoolCorona.dat)
- 태양 코로나 전용 난방 모델 (turbulent cascade)